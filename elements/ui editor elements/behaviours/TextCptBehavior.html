<script>
	TextCptBehavior = {
		
        properties: {
            bindToContainer: 
            {
                type: Boolean,
                value: false
            },
            
            displayedText:
            {
                type: String,
                value: "empty...",
                observer: 'displayedTextChanged'
            }
        },
        
        ready: function() {
            if (this.id!= "h1-cpt" && this.id != "text-cpt")
                this.config.displayedText = "oo";
            //this.set("structure.config.displayedText", "oo");
        },

		connectCpt: function() {
            this.bindToContainer = !this.bindToContainer;
            
            // update the structure to propagate the update to the parents
            this.set("config.bindToContainer", this.bindToContainer);
            
            this.txAttributesSelectionRequest();
            
            // trigger toaster information
            this.sendToasterMsgDisplayRequest("Text value " + (this.bindToContainer? "": "dis") + "connected to the data source");
        },
        
        txAttributesSelectionRequest: function (ev) { this.fire('attSelectionRequest', { "attributes": [ "name", "description" ] } );},
          
        displayedTextChanged: function(ev) {
            // update the structure to propagate the update to the parents
            this.set("config.displayedText", this.$.dev_input.value);
        }
    };
</script>